<!doctype html>
<html lang="ko">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Emotion Vending Machine v1.0</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="desktop">
  <div class="window">

    <!-- TITLE BAR -->
    <div class="titlebar">
      <div class="title">Emotion Vending Machine v1.0</div>
      <div class="win-controls">
        <button class="win-btn">—</button>
        <button class="win-btn">×</button>
      </div>
    </div>

    <!-- CHARACTER STAGE -->
    <div class="character-stage">
      <div id="effectLayer"></div>
    
  <div class="avatar">

  <!-- BASE (항상 보이는 기본 얼굴) -->
  <img src="img/base.png" class="layer base" />

  <!-- EMOTIONS (처음엔 전부 비활성) -->
  <img src="img/angry_01.png" class="layer emotion" />
  <img src="img/angry_02.png" class="layer emotion" />
  <img src="img/angry_03.png" class="layer emotion" />
  <img src="img/angry_04.png" class="layer emotion" />

  <img src="img/love_01.png" class="layer emotion" />
  <img src="img/love_02.png" class="layer emotion" />
  <img src="img/love_03.png" class="layer emotion" />
  <img src="img/love_04.png" class="layer emotion" />

  <!-- SPEECH -->
  <div class="speech-bubble" id="speech">
    <p id="speechText">…</p>
  </div>

</div>
 

      </div>
    </div>

    <!-- SYSTEM DIALOGUE -->
    <div class="section dialogue">
      <div class="section-title">System Dialogue</div>
      <div class="chat-log">
        System initialized.<br/>
        Awaiting input.
      </div>
      <input id="chatInput" type="text" placeholder="Type something personal..." />
    </div>

    <!-- GAUGE -->
    <div class="section gauge">
      <div class="bar stability">
        SADNESS
        <div class="fill" id="stabilityFill" style="width:0%"></div>
      </div>
      <div class="bar overflow">
        HAPPY
        <div class="fill" id="overflowFill" style="width:0%"></div>
      </div>
      <div class="status">
        <span>are you happy...?</span>
        <span>System: Operational</span>
      </div>
    </div>

  </div>
</div>
<audio id="coinSound" src="sound/coin_insert.mp3"></audio>
<audio id="coinRejectSound" src="sound/coin_reject.mp3"></audio>
<audio id="emotionSound" src="sound/ding.mp3"></audio>
  <script src="script.js"></script>
  <script>
    // 우클릭 & 드래그 방지
    document.addEventListener('contextmenu', e => { e.preventDefault(); });
    document.addEventListener('dragstart', e => { e.preventDefault(); });

    // 개발자 도구 단축키 막기
    document.addEventListener('keydown', e => {
      if (e.key === 'F12' ||
          (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key.toUpperCase())) ||
          (e.ctrlKey && e.key.toUpperCase() === 'U') ||
          (e.metaKey && e.altKey && e.key.toUpperCase() === 'I')) {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
