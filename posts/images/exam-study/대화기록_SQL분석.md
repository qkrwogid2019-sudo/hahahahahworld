# SQL 분석 연습 대화 기록
날짜: 2026-01-13

## 배경
- Northwind Traders 가상 회사 데이터 분석가 역할
- B2B 식품 유통 회사
- 고민: 매출 성장 둔화, 이익 극대화 필요

---

## 분석 흐름

### 1. 최근 주문 증가 업체 찾기
- Company F: 주문 3배 증가, 매출 10배 성장 (맥주 대량 구매)
- Company I, Z: 신규 고객, 둘 다 미국, 둘 다 Clam Chowder 구매

### 2. 주고객 분석
**TOP 5 고객:**
1. Company BB - 15,433
2. Company G - 13,800
3. Company F - 8,008
4. Company D - 4,949
5. Company H - 4,683

### 3. 매출 추이 분석
- 3월: 32,609 (피크) 📈
- 5월: 1,789 (바닥) 📉
- 3월 매출 85% = BB와 G의 커피 대량 주문

### 4. 주고객 이탈 분석
| 회사 | 전반기 | 후반기 | 증감 |
|:---|---:|---:|:---|
| Company BB | 13,800 | 1,633 | -88% 🚨 |
| Company G | 13,800 | 0 | -100% 🚨 |

### 5. Company G 분석
- 딱 1번 주문: 커피 300개 (13,800)
- 이후 재구매 없음 → 일회성 고객

### 6. Company BB 분석
- 3월: 커피 300개 (13,800)
- 4월: Clam Chowder + Crab Meat (1,403)
- 6월: 커피 5개 (230)
- 커피 주문 98% 감소

### 7. 4월 커피 시장 가설
- 중남미 커피 수확 시즌: 11월~3월
- 4월: 단경기 시작 → 가격 인상 or 공급 불안정

---

## 핵심 발견

### 문제점
1. **커피 의존**: 3월 매출 85%가 커피
2. **주고객 의존**: TOP 3 = 전체 매출 55%
3. **고객 관리 부재**: G는 1번 사고 이탈

### 결론
> "커피 팔던 큰손 2명 나가니까 회사가 흔들림"
> → 상품도 고객도 분산시켜야 생존

---

## 액션 아이템
1. 커피 의존도 낮추기 (상품 다변화)
2. 주고객 의존도 낮추기 (TOP 3 → 40% 이하)
3. Company G 연락해서 재구매 유도
4. 커피 계절성 대응 (선주문, 재고 확보)
5. 신규 고객 영업 강화

---

## 사용한 SQL 기법
- JOIN (orders, order_details, customers, products)
- GROUP BY + 집계함수 (SUM, COUNT)
- WITH (CTE) 활용
- CASE WHEN으로 기간 비교
- DATE_FORMAT으로 월별 분석
